# Unity 日志分析系统

一个面向游戏开发者和运维人员的智能日志诊断工具，通过自动日志分析、规则匹配和可视化展示，帮助快速定位和解决 Unity 构建打包过程中的问题。

## 🎯 核心功能

### 1. 日志分析
- **多种上传方式**：URL 链接、本地文件拖拽、文本粘贴（支持 50MB 大文本）
- **智能分类**：自动按错误类型、严重程度分类日志
- **错误聚合**：合并相同错误，显示出现次数和统计信息
- **详细查看**：支持查看堆栈信息、错误上下文、行号定位
- **快速搜索**：按关键词搜索错误日志，支持分页加载

### 2. 规则管理
- **自定义规则**：支持正则表达式、关键词匹配、严重程度设置
- **规则编辑**：添加、修改、删除错误匹配规则
- **批量导入导出**：JSON 格式支持规则备份和恢复
- **规则搜索**：按关键词快速查找规则，支持分页显示

## 📁 项目结构

```
Packaging Log Analysis/
├── README.md                              # 项目说明文档
├── Demand.md                              # 功能需求文档
├── Backend_Technical_Specification.md    # 后端技术规范
├── Frontend_Technical_Specification.md   # 前端技术规范
├── API_Integration_Standard.md           # API 集成标准
└── log_rules.json                         # 错误匹配规则数据文件
```

## 🏗️ 系统架构

### 前端
- **框架**：现代前端框架（Vue/React）
- **核心功能**：
  - 日志上传界面（URL/文件/文本）
  - 错误日志展示（分类、搜索、分页）
  - 错误详情面板（堆栈信息、代码定位）
  - 规则管理界面（增删改查、导入导出）

### 后端
- **核心能力**：
  - 日志接收与解析（支持自适应格式检测）
  - 错误识别与分类（正则匹配、关键词提取）
  - 规则库管理（版本控制、持久化存储）
  - RESTful API 接口（日志分析、规则管理）

### 数据存储
- **数据库**：存储规则库、错误统计、用户数据
- **规则格式**：JSON 格式，包含正则表达式、关键词、严重程度、解决方案等

## 📊 关键指标

| 指标 | 目标值 | 说明 |
|------|--------|------|
| 吞吐量 | ≥ 100 req/s | 单机部署能力 |
| 日志解析速度 | ≤ 100MB/30s | 标准配置 |
| API 响应时间 | P95 ≤ 200ms | 列表查询延迟 |
| 系统可用性 | 99.9% | 月度 SLA |

## 🔧 技术栈

### 前端
- 前端框架（Vue.js 或 React）
- 代码编辑器集成（代码高亮、行号显示）
- HTTP 客户端库
- UI 组件库

### 后端
- 后端框架（Node.js/Python/Java）
- 数据库（MySQL/PostgreSQL）
- 正则表达式引擎
- 文件处理库

## 📋 文档说明

- **Demand.md**：完整的功能需求规格，详细描述前后端功能模块
- **Frontend_Technical_Specification.md**：前端技术实现细节、API 调用规范、UI/UX 设计
- **Backend_Technical_Specification.md**：后端系统架构、数据库设计、核心算法、API 接口定义
- **API_Integration_Standard.md**：前后端集成标准、接口协议、数据格式规范

## 📝 规则文件格式

```json
{
    "id": "3",
    "name": "C# 编译失败",
    "regex": "error CS\\d{4}: (.*)",
    "keywords": ["error", "CS"],
    "solution": "**编译失败**\n\n修复 C# 语法错误...",
    "severity": "CRITICAL",
    "weight": 100,
    "createdAt": "2025-11-24 06:18:55",
    "updatedAt": "2025-11-24 06:18:55"
}
```

## 🚀 快速开始

### 前端开发
1. 查看 `Frontend_Technical_Specification.md` 了解页面结构
2. 按照 UI/UX 规范实现上传、分析、规则管理页面
3. 实现日志展示、搜索、分页等交互功能

### 后端开发
1. 查看 `Backend_Technical_Specification.md` 了解系统架构
2. 实现日志解析引擎和规则匹配算法
3. 根据 `API_Integration_Standard.md` 实现 RESTful 接口

### 集成开发
1. 按照 `API_Integration_Standard.md` 规范进行前后端集成
2. 使用 `log_rules.json` 初始化规则库
3. 完整测试各功能模块

## 📱 主要页面

### 日志分析页面
- 左侧：日志上传区和错误列表
- 右侧：选中错误的详细信息面板
- 功能：搜索、分类、分页、严重程度排序

### 规则管理页面
- 规则列表展示，支持搜索和分页
- 新增、编辑、删除规则功能
- 规则导入导出（JSON 格式）

## 💡 特色亮点

✅ **智能聚合**：相同错误自动合并，展示出现次数  
✅ **灵活规则**：支持正则表达式，可自定义错误识别  
✅ **知识沉淀**：规则库记录历史问题和解决方案  
✅ **高性能**：支持大文件处理，优化的搜索和分页  
✅ **用户友好**：代码行号定位、错误上下文展示、直观的 UI  

## 📞 支持

有问题或建议？请查阅相应的技术文档：
- 功能问题 → `Demand.md`
- 前端实现 → `Frontend_Technical_Specification.md`
- 后端实现 → `Backend_Technical_Specification.md`
- API 集成 → `API_Integration_Standard.md`
